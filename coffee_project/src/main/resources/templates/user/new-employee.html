<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Danh sách nhân viên mới </title>
    <style th:insert="/layout::style"></style>
    <link rel="stylesheet" th:href="@{/bootstrap-5.0.2-dist/css/bootstrap.css}"
          href="../static/bootstrap-5.0.2-dist/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">

</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div th:replace="layout::side-bar">
        </div>
        <div class="col-10  col-sm-9 col-md-9 col-lg-10">
            <div th:replace="layout::nav-bar">
            </div>
            <div class="row min-vh-100 content">
                <div class="col-12">


                    <!------------------CODE------------------------------->
                    <h1 class="col-11" style="text-align: center">
                        Danh Sách Nhân Viên Mới</h1>
                    <div class="row" style="margin-top: 15px;margin-bottom: 20px">

                        <a class="col-12 mt-2" style="text-decoration: none" href="/user/list">
                            <button title="Quay lại"
                                    class="btn btn-primary">
                                <i class="fa-solid fa-circle-arrow-left"></i></button>
                        </a>

                    </div>

                    <table class="table table-hover table-responsive">
                        <thead>
                        <th scope="col">STT</th>
                        <th scope="col">Tên</th>
                        <th scope="col">Tài khoản</th>
                        <th scope="col">Email</th>
                        <th scope="col">Điện thoại</th>
                        <th scope="col" style="text-align: center">Chỉnh sửa</th>
                        </thead>
                        <tr th:each="user,status :${userPage} ">
                            <td th:text="${status.count}"></td>
                            <td th:text="${user.userName}"></td>
                            <td th:text="${user.account.accountName}"></td>
                            <td th:text="${user.userEmail}"></td>
                            <td th:text="${user.userPhoneNumber}"></td>
                            <td style="text-align: center"><a th:href="@{/user/change-form/{id}(id=${user.userId})}">
                                <button type="button" class="btn btn-primary">
                                    <i class="fa-solid fa-pen-to-square"></i>
                                </button>
                            </a></td>
                        </tr>
                    </table>
                    <!---------------------------Paging--------------------------------------------------------------->
                    <div th:if="${userPage.totalPages >1}">
                        <div class="d-flex justify-content-center">
                            <nav aria-label="Page navigation example">
                                <ul class="pagination">
                                    <li th:class="${!userPage.hasPrevious()} ? 'page-item disabled' : 'page-item'"><a
                                            class="page-link"
                                            th:href="@{/user/list/(page=${userPage.number -1},search=${search})}">Lùi</a>
                                    </li>

                                    <li class="page-link disabled"><span th:text="${userPage.number +1}"></span>/<span
                                            th:text="${userPage.totalPages}"></span>
                                    </li>

                                    <li th:class="${!userPage.hasNext()} ? 'page-item disabled' : 'page-item'"><a
                                            class="page-link"
                                            th:href="@{/user/list/(page=${userPage.number +1},search=${search})}">Tới</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <!------------------------End Paging------------------------------------------------------------>
                </div>
            </div>
            <div th:replace="layout::footer">
            </div>
        </div>
    </div>
</div>



<!-------------------------Toast-------------------------------------------------------------->
<div class="position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="me-auto">Tin nhắn</strong>
            <small>Bây giờ</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body text-info" th:text="${msg}">
        </div>
    </div>
</div>
<!-------------------------End Toast-------------------------------------------------------------->

<script th:src="@{/bootstrap-5.0.2-dist/js/bootstrap.bundle.js}"
        src="../static/bootstrap-5.0.2-dist/js/bootstrap.bundle.js"></script>
<script th:if="${msg}">
    window.onload = function () {
        let myAlert = document.getElementById('liveToast');//select id of toast
        let bsAlert = new bootstrap.Toast(myAlert);//inizialize it
        bsAlert.show();//show it
    }
</script>
</body>
</html>